<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.geometry.Pos?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.effect.InnerShadow?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>

<VBox alignment="TOP_CENTER" spacing="25.0" xmlns:fx="http://javafx.com/fxml/1" xmlns="http://javafx.com/javafx/23.0.1"
      fx:controller="com.FinalProject.UMS.ProfileController"
      style="-fx-background-color: linear-gradient(to bottom, #f8f9fa, #e9ecef);">
    <padding>
        <Insets bottom="30.0" left="40.0" right="40.0" top="30.0" />
    </padding>

    <!-- Header with Logo -->
    <HBox alignment="CENTER" spacing="15">
        <Circle radius="40" style="-fx-fill: #9B001C;">
            <effect>
                <InnerShadow/>
            </effect>
        </Circle>
        <VBox alignment="CENTER_LEFT">
            <Label text="Profile Information" style="-fx-text-fill: #9B001C; -fx-font-weight: bold;">
                <font>
                    <Font name="Arial" size="32" />
                </font>
            </Label>
            <Label text="View and update your personal information" style="-fx-text-fill: #666666; -fx-font-style: italic;">
                <font>
                    <Font name="Arial" size="16" />
                </font>
            </Label>
        </VBox>
    </HBox>

    <Separator style="-fx-background-color: #F2BA30; -fx-opacity: 0.6;"/>

    <!-- Profile Content -->
    <HBox spacing="30" alignment="CENTER">
        <!-- Profile Image Section -->
        <VBox alignment="CENTER" spacing="15">
            <StackPane>
                <Circle radius="80" style="-fx-fill: white;">
                    <effect>
                        <DropShadow color="#00000033" radius="10" spread="0.05"/>
                    </effect>
                </Circle>
                <ImageView fx:id="profileImageView" fitHeight="150.0" fitWidth="150.0" pickOnBounds="true" preserveRatio="true">
                    <image>
                        <Image url="@default_profile.png" />
                    </image>
                </ImageView>
            </StackPane>

            <Button fx:id="uploadPictureButton" onAction="#onUploadPictureButtonClick" text="Upload Picture"
                    style="-fx-background-color: #FF9800; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 7; -fx-padding: 10 15; -fx-cursor: hand;">
                <graphic>
                    <Text text="ðŸ“·" style="-fx-font-size: 14;"/>
                </graphic>
                <effect>
                    <DropShadow color="#00000040" radius="5" spread="0.05"/>
                </effect>
            </Button>
        </VBox>

        <!-- Profile Details Section -->
        <StackPane style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20;">
            <effect>
                <DropShadow color="#00000022" radius="10" spread="0.05"/>
            </effect>

            <GridPane hgap="15" vgap="15" minWidth="400">
                <columnConstraints>
                    <ColumnConstraints prefWidth="130"/>
                    <ColumnConstraints prefWidth="270"/>
                </columnConstraints>

                <!-- Student ID -->
                <HBox alignment="CENTER_LEFT" spacing="10" GridPane.rowIndex="0" GridPane.columnIndex="0">
                    <Text text="ðŸ†”" style="-fx-font-size: 16;"/>
                    <Label text="Student ID:" style="-fx-font-weight: bold; -fx-font-size: 14;"/>
                </HBox>
                <TextField fx:id="studentIdField" editable="false" GridPane.rowIndex="0" GridPane.columnIndex="1"
                           style="-fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #e0e0e0; -fx-padding: 8;"/>

                <!-- First Name -->
                <HBox alignment="CENTER_LEFT" spacing="10" GridPane.rowIndex="1" GridPane.columnIndex="0">
                    <Text text="ðŸ‘¤" style="-fx-font-size: 16;"/>
                    <Label text="First Name:" style="-fx-font-weight: bold; -fx-font-size: 14;"/>
                </HBox>
                <TextField fx:id="firstNameField" editable="false" GridPane.rowIndex="1" GridPane.columnIndex="1"
                           style="-fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #e0e0e0; -fx-padding: 8;"/>

                <!-- Last Name -->
                <HBox alignment="CENTER_LEFT" spacing="10" GridPane.rowIndex="2" GridPane.columnIndex="0">
                    <Text text="ðŸ‘¤" style="-fx-font-size: 16;"/>
                    <Label text="Last Name:" style="-fx-font-weight: bold; -fx-font-size: 14;"/>
                </HBox>
                <TextField fx:id="lastNameField" editable="false" GridPane.rowIndex="2" GridPane.columnIndex="1"
                           style="-fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #e0e0e0; -fx-padding: 8;"/>

                <!-- Email -->
                <HBox alignment="CENTER_LEFT" spacing="10" GridPane.rowIndex="3" GridPane.columnIndex="0">
                    <Text text="âœ‰ï¸" style="-fx-font-size: 16;"/>
                    <Label text="Email:" style="-fx-font-weight: bold; -fx-font-size: 14;"/>
                </HBox>
                <TextField fx:id="emailField" GridPane.rowIndex="3" GridPane.columnIndex="1"
                           style="-fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #e0e0e0; -fx-padding: 8;"/>

                <!-- Address -->
                <HBox alignment="CENTER_LEFT" spacing="10" GridPane.rowIndex="4" GridPane.columnIndex="0">
                    <Text text="ðŸ " style="-fx-font-size: 16;"/>
                    <Label text="Address:" style="-fx-font-weight: bold; -fx-font-size: 14;"/>
                </HBox>
                <TextField fx:id="addressField" GridPane.rowIndex="4" GridPane.columnIndex="1"
                           style="-fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #e0e0e0; -fx-padding: 8;"/>

                <!-- Phone -->
                <HBox alignment="CENTER_LEFT" spacing="10" GridPane.rowIndex="5" GridPane.columnIndex="0">
                    <Text text="ðŸ“±" style="-fx-font-size: 16;"/>
                    <Label text="Phone:" style="-fx-font-weight: bold; -fx-font-size: 14;"/>
                </HBox>
                <TextField fx:id="phoneField" GridPane.rowIndex="5" GridPane.columnIndex="1"
                           style="-fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #e0e0e0; -fx-padding: 8;"/>
            </GridPane>
        </StackPane>
    </HBox>

    <Separator style="-fx-background-color: #F2BA30; -fx-opacity: 0.6;"/>

    <!-- Action Buttons -->
    <HBox spacing="20" alignment="CENTER">
        <Button fx:id="saveChangesButton" onAction="#onSaveChangesButtonClick" text="Save Changes"
                style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 7; -fx-padding: 12 20; -fx-cursor: hand;">
            <graphic>
                <Text text="ðŸ’¾" style="-fx-font-size: 16;"/>
            </graphic>
            <effect>
                <DropShadow color="#00000040" radius="5" spread="0.05"/>
            </effect>
        </Button>

        <Button fx:id="changePasswordButton" onAction="#onChangePasswordButtonClick" text="Change Password"
                style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 7; -fx-padding: 12 20; -fx-cursor: hand;">
            <graphic>
                <Text text="ðŸ”’" style="-fx-font-size: 16;"/>
            </graphic>
            <effect>
                <DropShadow color="#00000040" radius="5" spread="0.05"/>
            </effect>
        </Button>

        <Button onAction="#onReturnButtonClick" text="Return to Dashboard"
                style="-fx-background-color: #9B001C; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 7; -fx-padding: 12 20; -fx-cursor: hand;">
            <graphic>
                <Text text="ðŸ " style="-fx-font-size: 16;"/>
            </graphic>
            <effect>
                <DropShadow color="#00000040" radius="5" spread="0.05"/>
            </effect>
        </Button>
    </HBox>

    <!-- Footer -->
    <Label text="Â© 2024 University Management System" style="-fx-text-fill: #666666; -fx-font-size: 12;"/>
</VBox>