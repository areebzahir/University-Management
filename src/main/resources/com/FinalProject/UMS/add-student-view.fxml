<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.effect.*?>

<!-- Wrap everything in a ScrollPane to handle overflow -->
<ScrollPane xmlns="http://javafx.com/javafx/8.0.171"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.FinalProject.UMS.AZAdminaddstudent"
            fitToWidth="true"
            style="-fx-background-color: transparent; -fx-background: transparent; -fx-padding: 0;">

    <VBox spacing="10" style="-fx-background-color: linear-gradient(to bottom, #f8f9fa, #f4f4f4);">
        <padding>
            <Insets top="15" right="15" bottom="15" left="15"/>
        </padding>

        <!-- Enhanced Header - More compact -->
        <HBox alignment="CENTER_LEFT" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 10;">
            <effect>
                <DropShadow color="#00000022" radius="5" spread="0.05"/>
            </effect>
            <Circle radius="15" style="-fx-fill: #9B001C;"/>
            <Text text="Student Management System - Admin"
                  style="-fx-fill: #2c3e50; -fx-font-weight: bold; -fx-translate-x: 10;">
                <font>
                    <Font name="Arial" size="18"/>
                </font>
            </Text>
        </HBox>

        <!-- Enhanced Student Table - Fixed height -->
        <VBox spacing="5">
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Text text="ðŸ‘¨â€ðŸŽ“" style="-fx-font-size: 14;"/>
                <Label text="Student Records" style="-fx-font-weight: bold; -fx-font-size: 14; -fx-text-fill: #9B001C;"/>
            </HBox>

            <TableView fx:id="studentTable" maxHeight="150" VBox.vgrow="ALWAYS" style="-fx-background-color: white; -fx-border-color: #e0e0e0; -fx-border-radius: 5;">
                <effect>
                    <DropShadow color="#00000022" radius="5" spread="0.05"/>
                </effect>
                <columns>
                    <TableColumn fx:id="idCol" text="Student ID" prefWidth="100"/>
                    <TableColumn fx:id="nameCol" text="Name" prefWidth="120"/>
                    <TableColumn fx:id="emailCol" text="Email" prefWidth="150"/>
                    <TableColumn fx:id="levelCol" text="Academic Level" prefWidth="100"/>
                    <TableColumn fx:id="semesterCol" text="Semester" prefWidth="100"/>
                </columns>
            </TableView>
        </VBox>

        <!-- Enhanced Form for Student Details - More compact -->
        <TitledPane text="Student Details" expanded="false" style="-fx-font-weight: bold; -fx-text-fill: #9B001C;">
            <VBox spacing="8" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 10;">
                <GridPane hgap="10" vgap="8">
                    <columnConstraints>
                        <ColumnConstraints minWidth="100" />
                        <ColumnConstraints hgrow="ALWAYS" />
                    </columnConstraints>

                    <Label text="Student ID:" GridPane.rowIndex="0" GridPane.columnIndex="0" style="-fx-font-weight: bold;"/>
                    <TextField fx:id="idField" promptText="Auto-generated" editable="false" GridPane.rowIndex="0" GridPane.columnIndex="1"
                               style="-fx-background-radius: 5; -fx-border-color: #e0e0e0; -fx-border-radius: 5;"/>

                    <Label text="Name:" GridPane.rowIndex="1" GridPane.columnIndex="0" style="-fx-font-weight: bold;"/>
                    <TextField fx:id="nameField" GridPane.rowIndex="1" GridPane.columnIndex="1"
                               style="-fx-background-radius: 5; -fx-border-color: #e0e0e0; -fx-border-radius: 5;"/>

                    <Label text="Address:" GridPane.rowIndex="2" GridPane.columnIndex="0" style="-fx-font-weight: bold;"/>
                    <TextField fx:id="addressField" GridPane.rowIndex="2" GridPane.columnIndex="1"
                               style="-fx-background-radius: 5; -fx-border-color: #e0e0e0; -fx-border-radius: 5;"/>

                    <Label text="Telephone:" GridPane.rowIndex="3" GridPane.columnIndex="0" style="-fx-font-weight: bold;"/>
                    <TextField fx:id="telephoneField" GridPane.rowIndex="3" GridPane.columnIndex="1"
                               style="-fx-background-radius: 5; -fx-border-color: #e0e0e0; -fx-border-radius: 5;"/>

                    <Label text="Email:" GridPane.rowIndex="4" GridPane.columnIndex="0" style="-fx-font-weight: bold;"/>
                    <TextField fx:id="emailField" GridPane.rowIndex="4" GridPane.columnIndex="1"
                               style="-fx-background-radius: 5; -fx-border-color: #e0e0e0; -fx-border-radius: 5;"/>

                    <Label text="Academic Level:" GridPane.rowIndex="5" GridPane.columnIndex="0" style="-fx-font-weight: bold;"/>
                    <ComboBox fx:id="academicLevelCombo" GridPane.rowIndex="5" GridPane.columnIndex="1" maxWidth="Infinity"
                              style="-fx-background-radius: 5; -fx-border-color: #e0e0e0; -fx-border-radius: 5;"/>

                    <Label text="Current Semester:" GridPane.rowIndex="6" GridPane.columnIndex="0" style="-fx-font-weight: bold;"/>
                    <ComboBox fx:id="semesterCombo" GridPane.rowIndex="6" GridPane.columnIndex="1" maxWidth="Infinity"
                              style="-fx-background-radius: 5; -fx-border-color: #e0e0e0; -fx-border-radius: 5;"/>

                    <Label text="Subjects:" GridPane.rowIndex="7" GridPane.columnIndex="0" style="-fx-font-weight: bold;"/>
                    <TextField fx:id="subjectsField" GridPane.rowIndex="7" GridPane.columnIndex="1"
                               style="-fx-background-radius: 5; -fx-border-color: #e0e0e0; -fx-border-radius: 5;"/>

                    <Label text="Thesis Title:" GridPane.rowIndex="8" GridPane.columnIndex="0" style="-fx-font-weight: bold;"/>
                    <TextField fx:id="thesisField" GridPane.rowIndex="8" GridPane.columnIndex="1"
                               style="-fx-background-radius: 5; -fx-border-color: #e0e0e0; -fx-border-radius: 5;"/>

                    <Label text="Progress:" GridPane.rowIndex="9" GridPane.columnIndex="0" style="-fx-font-weight: bold;"/>
                    <TextField fx:id="progressField" promptText="0.0 to 1.0" GridPane.rowIndex="9" GridPane.columnIndex="1"
                               style="-fx-background-radius: 5; -fx-border-color: #e0e0e0; -fx-border-radius: 5;"/>
                </GridPane>
            </VBox>
        </TitledPane>

        <!-- Enhanced Action Buttons - More compact -->
        <VBox spacing="8" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 10;">
            <effect>
                <DropShadow color="#00000022" radius="5" spread="0.05"/>
            </effect>

            <HBox alignment="CENTER_LEFT" spacing="8">
                <Text text="âš™ï¸" style="-fx-font-size: 14;"/>
                <Label text="Student Record Actions" style="-fx-font-weight: bold; -fx-font-size: 14; -fx-text-fill: #9B001C;"/>
            </HBox>

            <Separator style="-fx-background-color: #F2BA30; -fx-opacity: 0.6;"/>

            <FlowPane hgap="10" vgap="10" alignment="CENTER">
                <Button text="Add Student" onAction="#addStudent"
                        style="-fx-background-color: #9B001C; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 5; -fx-cursor: hand;">
                    <effect>
                        <DropShadow color="#00000040" radius="3" spread="0.05"/>
                    </effect>
                    <graphic>
                        <Text text="âž•" style="-fx-font-size: 12;"/>
                    </graphic>
                </Button>

                <Button text="Edit Student" onAction="#editStudent"
                        style="-fx-background-color: #9B001C; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 5; -fx-cursor: hand;">
                    <effect>
                        <DropShadow color="#00000040" radius="3" spread="0.05"/>
                    </effect>
                    <graphic>
                        <Text text="âœï¸" style="-fx-font-size: 12;"/>
                    </graphic>
                </Button>

                <Button text="Delete Student" onAction="#deleteStudent"
                        style="-fx-background-color: #9B001C; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 5; -fx-cursor: hand;">
                    <effect>
                        <DropShadow color="#00000040" radius="3" spread="0.05"/>
                    </effect>
                    <graphic>
                        <Text text="ðŸ—‘ï¸" style="-fx-font-size: 12;"/>
                    </graphic>
                </Button>

                <Button text="View Profile" onAction="#viewProfile"
                        style="-fx-background-color: #9B001C; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 5; -fx-cursor: hand;">
                    <effect>
                        <DropShadow color="#00000040" radius="3" spread="0.05"/>
                    </effect>
                    <graphic>
                        <Text text="ðŸ‘¤" style="-fx-font-size: 12;"/>
                    </graphic>
                </Button>

                <Button fx:id="returnButton" text="Return to Dashboard" onAction="#handleReturnToDashboard"
                        style="-fx-background-color: #9B001C; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 5; -fx-cursor: hand;">
                    <effect>
                        <DropShadow color="#00000040" radius="3" spread="0.05"/>
                    </effect>
                    <graphic>
                        <Text text="â¬…ï¸" style="-fx-font-size: 12;"/>
                    </graphic>
                </Button>
            </FlowPane>
        </VBox>

        <!-- Enhanced Student Management Features - More compact -->
        <VBox spacing="8" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 10;">
            <effect>
                <DropShadow color="#00000022" radius="5" spread="0.05"/>
            </effect>

            <HBox alignment="CENTER_LEFT" spacing="8">
                <Text text="ðŸŽ“" style="-fx-font-size: 14;"/>
                <Label text="Student Management Features" style="-fx-font-weight: bold; -fx-font-size: 14; -fx-text-fill: #F2BA30;"/>
            </HBox>

            <Separator style="-fx-background-color: #F2BA30; -fx-opacity: 0.6;"/>

            <FlowPane hgap="10" vgap="10" alignment="CENTER">
                <Button fx:id="tuitionManagementButton" text="Manage Tuition" onAction="#handleTuitionManagement"
                        style="-fx-background-color: #F2BA30; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 5; -fx-cursor: hand;">
                    <effect>
                        <DropShadow color="#00000040" radius="3" spread="0.05"/>
                    </effect>
                    <graphic>
                        <Text text="ðŸ’°" style="-fx-font-size: 12;"/>
                    </graphic>
                </Button>

                <Button text="Academic Progress" onAction="#handleAcademicProgress"
                        style="-fx-background-color: #F2BA30; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 5; -fx-cursor: hand;">
                    <effect>
                        <DropShadow color="#00000040" radius="3" spread="0.05"/>
                    </effect>
                    <graphic>
                        <Text text="ðŸ“Š" style="-fx-font-size: 12;"/>
                    </graphic>
                </Button>

                <Button fx:id="courseRegistrationButton" text="Register for Courses" onAction="#handleCourseRegistration"
                        style="-fx-background-color: #F2BA30; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 5; -fx-cursor: hand;">
                    <effect>
                        <DropShadow color="#00000040" radius="3" spread="0.05"/>
                    </effect>
                    <graphic>
                        <Text text="ðŸ“š" style="-fx-font-size: 12;"/>
                    </graphic>
                </Button>
            </FlowPane>
        </VBox>

        <!-- Footer -->
        <HBox alignment="CENTER">
            <Label text="Â© 2024 University Management System" style="-fx-font-size: 11; -fx-text-fill: #666666;"/>
        </HBox>
    </VBox>
</ScrollPane>